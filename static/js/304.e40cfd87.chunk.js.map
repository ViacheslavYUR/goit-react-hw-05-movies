{"version":3,"file":"static/js/304.e40cfd87.chunk.js","mappings":"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","sources":["components/MovieList/MovieList.styled.js","components/MovieList/MovieList.jsx","pages/Home/Home.styled.js","pages/Home/Home.jsx","shared/Pagination.syled.js","shared/services/fetch-api.js"],"sourcesContent":["import styled from 'styled-components';\nimport { NavLink } from 'react-router-dom';\n\nexport const StyledList = styled.ul`\n  list-style: none;\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  padding: 10px 5px;\n  margin-left: 15px;\n`;\n\nexport const MovieLink = styled(NavLink)`\n  color: #00008b;\n`;\n","import PropTypes from 'prop-types';\nimport { StyledList } from './MovieList.styled';\nimport { useLocation } from 'react-router-dom';\n\nimport { MovieLink } from './MovieList.styled';\n\n\nconst MovieList = ({ results }) => {\n  const location = useLocation();\n  const elements = results.map(({ id, title }) => (\n    <li key={id}>\n      <MovieLink  to={`/movies/${id}`}state={{ from: location }}>\n        <p>{title}</p>\n      </MovieLink>\n    </li>\n  ));\n  return <StyledList>{elements}</StyledList>;\n};\n\nexport default MovieList;\n\nMovieList.defaultProps = {\n  results: [],\n};\n\nMovieList.propTypes = {\n  results: PropTypes.arrayOf(PropTypes.shape({\n    id: PropTypes.number.isRequired,\n    title: PropTypes.string.isRequired,\n  })),\n};\n","import styled from 'styled-components';\n\nexport const Main = styled.main`\n  background-color: #faf6f0;\n  padding-bottom: 20px;\n  padding-top: 20px;\n`;\n","import { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { fetchTrending } from 'shared/services/fetch-api';\nimport { PaginationStyled } from 'shared/Pagination.syled';\nimport { Main } from './Home.styled';\nimport MovieList from 'components/MovieList/MovieList';\n\nimport Loader from 'shared/Loader/Loader';\n\nconst Home = () => {\n  const [items, setItems] = useState([]);\n  const [totalPages, setTotalPages] = useState(1);\n  const [params, setParams] = useSearchParams();\n  const [loading, setLoading] = useState(false);\n\n  const currentPage = Number(params.get('page'))\n    ? Number(params.get('page'))\n    : 1;\n\n  useEffect(() => {\n    const getTrending = async page => {\n      try {\n        setLoading(true);\n        const { results, total_pages } = await fetchTrending(page);\n        setItems(results);\n        setTotalPages(total_pages);\n      } catch (error) {\n        console.log(error.message);\n      }\n      finally {\n         setLoading(false)\n      }\n    };\n    getTrending(currentPage);\n  }, [currentPage]);\n\n  const handleClick = e => {\n    setParams({ page: e.selected + 1 });\n  };\n\n  return (\n    <Main>\n      <h1>Trending today</h1>\n      <MovieList results={items} />\n       {loading && <Loader/>}\n      {totalPages > 1 && (\n        <PaginationStyled\n          breakLabel=\"...\"\n          nextLabel=\">\"\n          onPageChange={handleClick}\n          pageRangeDisplayed={3}\n          pageCount={totalPages}\n          previousLabel=\"<\"\n          renderOnZeroPageCount={null}\n          disabledLinkClassName=\"disabled\"\n          activeClassName=\"activePage\"\n          forcePage={currentPage - 1}\n        />\n      )}\n    </Main>\n  );\n};\n\nexport default Home;\n","import styled from 'styled-components';\nimport ReactPaginate from 'react-paginate';\n\nexport const PaginationStyled = styled(ReactPaginate)`\n  display: flex;\n  list-style: none;\n  justify-content: flex-start;\n  margin-top: 16px;\n  margin-bottom: 16px;\n  font-size: 16px;\n  font-weight: 500;\n\n  @media (max-width: 500px) {\n    flex-wrap: wrap;\n  }\n\n  & li {\n    color: ${p => 'grey'};\n\n    transition: color 250ms linear;\n\n    :hover:not(.disabled) {\n      color: ${p => 'black'};\n    }\n  }\n\n  & .activePage {\n    color: ${p => 'red'};\n  }\n\n  & a {\n    padding: 0 8px;\n    cursor: pointer;\n  }\n\n  & a.disabled {\n    cursor: default;\n  }\n`;\n","import axios from 'axios';\n\nconst instance = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n\n  params: {\n    api_key: '2134d13c1835ef13ec8cd549d2172bad',\n  },\n});\n\nexport const fetchTrending = async page => {\n  const mediaType = 'movie';\n  const time = 'week';\n  const { data } = await instance.get(`/trending/${mediaType}/${time}?page=${page}`);\n  return data;\n};\n\nexport const fetchMovies = async (page, query) => {\n  const { data } = await instance.get(`/search/movie?page=${page}&query=${query}`);\n  return data;\n};\n\nexport const fetchMovieById = async movieID => {\n  const { data } = await instance.get(`/movie/${movieID}`);\n  return data;\n};\n\nexport const fetchCredits = async movieId => {\n  const { data } = await instance.get(`/movie/${movieId}/credits`);\n  return data;\n};\n\nexport const fetchReviews = async movieID => {\n  const { data } = await instance.get(`/movie/${movieID}/reviews`);\n  return data;\n};\n"],"names":["StyledList","styled","MovieLink","NavLink","MovieList","results","location","useLocation","elements","map","id","title","to","state","from","defaultProps","Main","useState","items","setItems","totalPages","setTotalPages","useSearchParams","params","setParams","loading","setLoading","currentPage","Number","get","useEffect","getTrending","page","fetchTrending","total_pages","console","log","message","Loader","breakLabel","nextLabel","onPageChange","e","selected","pageRangeDisplayed","pageCount","previousLabel","renderOnZeroPageCount","disabledLinkClassName","activeClassName","forcePage","PaginationStyled","ReactPaginate","p","instance","axios","baseURL","api_key","data","fetchMovies","query","fetchMovieById","movieID","fetchCredits","movieId","fetchReviews"],"sourceRoot":""}